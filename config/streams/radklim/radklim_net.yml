# (C) Copyright 2024 WeatherGenerator contributors.
#
# This software is licensed under the terms of the Apache Licence Version 2.0
# which can be obtained at http://www.apache.org/licenses/LICENSE-2.0.
#
# In applying this licence, ECMWF does not waive the privileges and immunities
# granted to it by virtue of its status as an intergovernmental organisation
# nor does it submit to any jurisdiction.

RADKLIM:
  type: radklim_netcdf
  name: RADKLIM
  filenames: ["."]
  source_channels: ['RR']
  target_channels: ['RR']
  file_pattern: "RW_2017.002_{year}{month:02d}.nc"
  stats_path: "/p/scratch/weatherai/data/radklim/temp_radklim/dummy_radklim_stats.json"
  manifest_path: "/p/scratch/weatherai/data/radklim/temp_radklim/radklim_manifest.json"
  apply_norm: false
  cache_size: 18  # Keep 6 months in memory (adjust based on your RAM)
  geoinfo_channeldds: []
  loss_weight : 1.
  masking_rate : 0.6
  masking_rate_none : 0.05
  token_size : 1024
  tokenize_spacetime : True
  embed : 
    net : transformer
    num_tokens : 1
    num_heads : 2
    dim_embed : 32
    num_blocks : 2
  embed_target_coords :
    net : linear
    dim_embed : 32 
  target_readout :
    type : 'obs_value'  # token or obs_value
    num_layers : 2
    num_heads : 4
    # sampling_rate : 0.2
  pred_head :
    ens_size : 1
    num_layers : 1